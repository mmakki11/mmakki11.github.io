<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Begin Jekyll SEO tag v2.4.0 -->
    <title>LAB 4</title>
    <meta name="generator" content="Jekyll v3.7.3" />
    <meta property="og:title" content="Mahdi Makki, Hunter College" />
    <meta property="og:locale" content="en_US" />
    <link rel="canonical" href="https://mmakki11.github.io/" />
    <meta property="og:url" content="https://mmakki11.github.io/" />
    <meta property="og:site_name" content="mmakki11.github.io" />
    <script type="application/ld+json">
      {
        "name": "mmakki11.github.io",
        "@type": "WebSite",
        "url": "https://mmakki11.github.io/",
        "headline": "Mahdi Makki, Hunter College",
        "@context": "http://schema.org"
      }
    </script>
    <!-- End Jekyll SEO tag -->

    <link
      href="https://fonts.googleapis.com/css?family=Poppins:400"
      rel="stylesheet"
    />

    <!-- MathJax -->
    <script
      type="text/javascript"
      async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"
    ></script>

    <!--   <link crossorigin="anonymous" media="all" integrity="sha512-Z0JAar9+DkI1NjGVdZr3GivARUgJtA0o2eHlTv7Ou2gshR5awWVf8QGsq11Ns9ZxQLEs+G5/SuARmvpOLMzulw==" rel="stylesheet" href="https://assets-cdn.github.com/assets/frameworks-95aff0b550d3fe338b645a4deebdcb1b.css" />
    -->
    <!--   <link crossorigin="anonymous" media="all" integrity="sha512-yv+kWn8ewbavFKfvLZifQplJ0chJ6H894rDwGVvn0LtaG80VxAQmPt8pRMMOSlGNSiPwZEDSVzZjyOOiVe0eyA==" rel="stylesheet" href="https://assets-cdn.github.com/assets/github-37504d684728c80db863d719b4ac6781.css" />
    -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      <style>
        table {
          border-collapse: collapse;
        }
        table,
        td,
        th {
          text-align: left;
          padding: 8px;
          padding-bottom: 6px;
          border: 1px solid #dee1e4;
        }
        tr:nth-child(even) {
          background-color: #fafafa;
        }
        tr:nth-child(odd) {
          background-color: #ffffff;
        }
        hr.style-six {
          border: 0;
          height: 0;
          border-top: 1px solid rgba(0, 0, 0, 0.1);
          border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }
        a:link {
          text-decoration: none;
        }
        a:visited {
          text-decoration: none;
          color: blue;
        }
        a:hover {
          text-decoration: none;
        }
        a:active {
          text-decoration: none;
        }
      </style>

      <h2 id="lab-4">LAB 4</h2>

      <p>
        Today’s lab will focus on getting numerical input from the command line
        and decisions in Python to make maps.
      </p>

      <p>
        Software tools needed: terminal (command line), web browser and Python
        IDLE programming environment.
      </p>

      <h3 id="using-python-gradescope-and-blackboard">
        Using Python, Gradescope, and Blackboard
      </h3>

      <p>
        See <a href="lab_01.html">Lab 1</a> for details on using Python,
        Gradescope, and Blackboard.
      </p>

      <h3 id="getting-numbers-as-input">Getting Numbers as Input</h3>

      <p>
        The simplest way to get input for our programs is via the console. In
        <a href="lab_02.html">Lab 2</a>, we used the input() command to get
        string input from the command line.
      </p>

      <p>
        Since Python doesn’t know what you will be entering (number, words,
        etc.), it stores everything as a string, and leaves it to the user to
        convert it to what they want. For example, if we wanted a number, we
        need to convert the letters the user used into a number. The basic
        conversion functions are:
      </p>

      <ul>
        <li>
          <code class="language-plaintext highlighter-rouge">int()</code>:
          converts a string (series of letters) into the corresponding integer
          (whole number).
        </li>
        <li>
          <code class="language-plaintext highlighter-rouge">float()</code>:
          converts a string (series of letters) into the corresponding floating
          point number (real number).
        </li>
        <li>
          <code class="language-plaintext highlighter-rouge">str()</code>:
          converts a number into the corresponding sequence of letters.
        </li>
      </ul>

      <p>
        Work through the examples in
        <a
          href="https://runestone.academy/ns/books/published/thinkcspy/SimplePythonData/Typeconversionfunctions.html"
          >2.3 Type conversion functions</a
        >
        and
        <a
          href="https://runestone.academy/ns/books/published/thinkcspy/SimplePythonData/Variables.html"
          >2.4 Variables</a
        >. Try the quizzes at the end of the section to test your understanding.
      </p>

      <h4 id="converter-program">Converter Program</h4>

      <p>
        Let’s work through a problem that takes numerical input from the user,
        does a calculation, and prints out the result. Here is the problem:
      </p>

      <blockquote>
        <p>
          Daniel has started to train for triathalons. Unfortunately, his bike
          computer only reads out distances in kilometers. Write a conversion
          program for him that takes as input kilometers and outputs the
          corresponding distance in miles.
        </p>
      </blockquote>

      <p>
        Our first step is to design the algorithm. It follows a standard
        pattern: <em>Input, Process, Output (IPO)</em>.
      </p>

      <p>
        In a text window in IDLE, write out what the input is, what the process
        is, and what the output is.
      </p>

      <p>Here is one possible design:</p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre
            class="highlight"
          ><code>#1. Input the distance in kilometers (call it km)
#2. Calculate the distance in miles as ?
#3. Output miles
</code></pre>
        </div>
      </div>

      <p>
        Above, we are missing an important part– the formula to calculate miles
        from kilometers. By typing 1 km = miles into google, we find that 1 km =
        0.621371 miles. So, we can add that to our file:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre
            class="highlight"
          ><code>#1. Input the distance in kilometers (call it km)
#2. Calculate the distance in miles as 0.621371*km
#3. Output miles
</code></pre>
        </div>
      </div>

      <p>
        Note that we’re preceding the items in our outline by ‘#’, so they can
        be used as comments for our final program.
      </p>

      <p>
        If you have not done so already, now would be a good time to save your
        work as the file, km2miles.py.
      </p>

      <p>
        Now, we are ready to convert our outline of the algorithm to Python.
        Begin by adding a comment to the beginning of the file:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>#Name:  your name 
#Date:  February 2021
#Converter example program from Lab 4


#1. Input the distance in kilometers (call it km)
#2. Calculate the distance in miles as 0.621371*km
#3. Output miles
</code></pre>
        </div>
      </div>

      <p>Next, let’s print a welcome message:</p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>#Name:  your name 
#Date:  February 2021
#Converter example program from Lab 4


print("Welcome to Daniel's calculator!")
#1. Input the distance in kilometers (call it km)
#2. Calculate the distance in miles as 0.621371*km
#3. Output miles
</code></pre>
        </div>
      </div>

      <p>
        Make sure that there are no typos by saving and running your program (F5
        or ‘Run Module’ in the Run menu).
      </p>

      <p>
        Next, fill in the program line by line. First, ask the user for their
        input:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>#Name:  your name 
#Date:  February 2021
#Converter example program from Lab 4


print("Welcome to Daniel's calculator!")
#1. Input the distance in kilometers (call it km)
km = float(input('Enter distance in kilometers: '))
#2. Calculate the distance in miles as 0.621371*km
#3. Output miles
</code></pre>
        </div>
      </div>

      <p>
        Test to make sure that the program runs. Note that it will ask for the
        input but since no messages after that (we still need to fill those in).
      </p>

      <p>
        Python cares about spacing and distinguishes between spaces and tabs. If
        you get an error above, check that each of the lines beneath the
        definition is indented using a TAB.
      </p>

      <p>Now, process the input (i.e. do the conversion):</p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>#Name:  your name 
#Date:  February 2021
#Converter example program from Lab 4


print("Welcome to Daniel's calculator!")
#1. Input the distance in kilometers (call it km)
km = float(input('Enter distance in kilometers: '))
#2. Calculate the distance in miles as 0.621371*km
miles = 0.621371*km
#3. Output miles
</code></pre>
        </div>
      </div>

      <p>
        Save and run your program again. It will ask for input but does not yet
        produce output.
      </p>

      <p>Finally, add the print statement that shows the output:</p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>#Name:  your name 
#Date:  February 2021
#Converter example program from Lab 4


print("Welcome to Daniel's calculator!")
#1. Input the distance in kilometers (call it km)
km = float(input('Enter distance in kilometers: '))
#2. Calculate the distance in miles as 0.621371*km
miles = 0.621371*km
#3. Output miles
print("The miles are", miles)
</code></pre>
        </div>
      </div>

      <p>
        Save and run your program again. This time, it will produce output. Try
        it with some simple values to make sure that it gets the right answer.
        For example, if you input 0 km, the output should also be 0. If you
        input 1 km, you should output 0.621371 miles.
      </p>

      <p>
        In addition to multiplication (‘*’), Python has addition (‘+’),
        subtraction (‘-‘), exponentation (‘**’), division (‘/’), and
        modulus/remainder (‘%’) built-in. See
        <a
          href="https://interactivepython.org/runestone/static/thinkcspy/SimplePythonData/OperatorsandOperands.html"
          >Section 2.7</a
        >
        in the textbook. Work through the examples and test yourself with the
        quiz at the bottom of textbook page.
      </p>

      <h3 id="decisions">Decisions</h3>

      <p>
        Python has a built-in control structure for making decisions. It’s basic
        form is: if <em>test or conditional</em>: if true do this block elif
        <em>another test or conditional</em>: if this next test is true, do this
        block elif <em>yet another test or conditional</em>: if this yet another
        test is true, do this block …. else: only do this block, if all the
        previous tests failed. The tests are expressions that evaluate to either
        true or false. The blocks of code can be as long as you would like– the
        only caveat is the block be indented, since that indicates what’s part
        of the block and what is not.
      </p>

      <h4 id="complementary-dna-strands">Complementary DNA Strands</h4>

      <p>
        Let’s do an example to illustrate a decision, or if-statement in Python.
        In <a href="lab2.html">Lab 2</a>, we examined the initial segment of a
        DNA strand for insulin in humans. DNA is double-stranded molecule. Given
        one strand of the molecule, we can figure out the complementary strand
        by the following rules:
      </p>

      <ul>
        <li>If the nucleotide is an A, its complement is a T.</li>
        <li>If the nucleotide is an C, its complement is a G.</li>
        <li>If the nucleotide is an G, its complement is a C.</li>
        <li>If the nucleotide is an T, its complement is an A.</li>
      </ul>

      <p>
        Since if the nucleotide is an A, we don’t need to check if it’s also a
        C, G, or T (and similarly for the other possible values), we can rewrite
        this as:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>  if nucleotide == "A":
      newNucleotide = "T"
  elif nucleotide == "C":
      newNucleotide = "G"
  elif nucleotide == "G":
      newNucleotide = "C"
  elif nucleotide == "T":
      newNucleotide = "A"    
  else:
      print("Error:  not a valid value!")
</code></pre>
        </div>
      </div>

      <p>Here’s a demonstration of our code:</p>
      <iframe width="800" height="500" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=nucleotide%20%3D%20input%28'Enter%20a%20nucleotide%3A%20'%29%0Aif%20nucleotide%20%3D%3D%20%22A%22%3A%0A%20%20%20%20newNucleotide%20%3D%20%22T%22%0Aelif%20nucleotide%20%3D%3D%20%22C%22%3A%0A%20%20%20%20newNucleotide%20%3D%20%22G%22%0Aelif%20nucleotide%20%3D%3D%20%22G%22%3A%0A%20%20%20%20newNucleotide%20%3D%20%22C%22%0Aelif%20nucleotide%20%3D%3D%20%22T%22%3A%0A%20%20%20%20newNucleotide%20%3D%20%22A%22%20%20%20%20%0Aelse%3A%0A%20%20%20%20print%28%22Error%3A%20%20not%20a%20valid%20value!%22%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>
      <p><br /></p>
      <h3 id="elevation-data--flood-maps">Elevation Data &amp; Flood Maps</h3>

      <p>
        For the last part of the lab, let’s combine what we have learned about
        images and decisions to make a flood map of the New York metropolitian
        area. 
        Taken from the US National Oceanic and Atmospheric Administration (NOAA)
        <a href="https://maps.ngdc.noaa.gov/viewers/wcs-client/"
          >elevation data website</a
        >.
      </p>

      <p>We extracted the New York City region:</p>

      <p><img src="images/gridExtract.png" alt="" /></p>

      <p>
        Attached is the elevations for the box bounded by the red dotted line
        <a href="images/elevationsNYC.txt">elevationsNYC.txt</a> of 417 rows
        with 469 values in each row.
      </p>

      <p>
        Using numpy, we can look at the data with a default ‘color map’ that
        assigns blue to smaller values in the grid (or array) and red to the
        larger values:
      </p>

      <ol>
        <li>
          Create a folder to hold your work (see
          <a href="lab_02.html">Lab 2</a> for directions for doing so from the
          command line).
        </li>
        <li>
          Download <a href="images/elevationsNYC.txt">elevationsNYC.txt</a> and
          save to your folder (you may need to move it from your Downloads
          folder).
        </li>
        <li>
          <p>Open IDLE, and create the following short program:</p>

          <div class="language-plaintext highlighter-rouge">
            <div class="highlight">
              <pre class="highlight"><code># Name:  ... your name here ...
# Date:  February 2021
# Takes elevation data of NYC and displays using the default color map

#Import the libraries for arrays and displaying images:
import numpy as np
import matplotlib.pyplot as plt

#Read in the data to an array, called elevations:
elevations = np.loadtxt('elevationsNYC.txt')
#Load the array into matplotlib.pyplot:
plt.imshow(elevations)
#Display the plot:
plt.show()
</code></pre>
            </div>
          </div>

          <p>Save the file in your folder.</p>
        </li>
        <li>
          Run your program. A graphics window should appear showing the data
          stored in elevations.
        </li>
      </ol>


      <p>
        <img src="images/elevColorMap.png" alt="" />
      </p>

      <p>
        you can see the Hudson River and New York Harbor (bright blue) and the
        ridges of the Palisades along the Hudson and mountains in Staten Island
        and western New Jersey in yellow and red.
      </p>

      <p>
        We can use this data to make a flood map of New York City. When
        Hurricane Sandy hit New York City in 2012, sea level rose 6 feet above
        normal, causing extensive flooding in low lying areas (<a
          href="http://www.nytimes.com/newsgraphics/2012/1120-sandy/survey-of-the-flooding-in-new-york-after-the-hurricane.html?mcubz=1"
          >NYT map</a
        >). For our flood map, we can incorporate the storm surge into our
        coloring scheme:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>if elevation &lt;= 0: 
    #Below sea level
    Color the pixel blue
elif elevation &lt;= 6:
    #Below the storm surge of Hurricane Sandy (flooding likely)
    Color the pixel red
else:
    #Above the 6 foot storm surge and didn't flood
    Color the pixel green
</code></pre>
        </div>
      </div>

      <p>
        To give us complete control of the coloring, we will create a new array
        that will hold the colors for each pixel. Here’s an outline of our
        program:
      </p>

      <ol>
        <li>Import the libraries to manipulate and display arrays.</li>
        <li>Read in the NYC data and store in the variable, elevations</li>
        <li>Create a new array, floodMap, to hold our colors for the map.</li>
        <li>
          For each element in elevations, make a pixel colored by the schema
          above.
        </li>
        <li>Load our image into pyplot.</li>
        <li>Display the image.</li>
      </ol>

      <p>
        We’ll use a very simple (but a bit garish) color scheme, with our “blue”
        being 0% red, 0% green, and 100% blue. And similarly, the “red” and the
        “green” we’ll use will be 100% of each, 0% of the others, giving a map
        like:
      </p>

      <p><img src="images/floodMap.png" alt="" /></p>

      <p>
        Here’s the code, implementing our outline below. Copy it into an IDLE
        window and run it. It expects that the file
        <a href="images/elevationsNYC.txt">elevationsNYC.txt</a> is in the same
        directory as your program.
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code># Name:  ... your name here ...
# Date:  February 2021
# Takes elevation data of NYC and displays using the default color map


#Import the libraries for arrays and displaying images:
import numpy as np
import matplotlib.pyplot as plt


#Read in the data to an array, called elevations:
elevations = np.loadtxt('elevationsNYC.txt')

#Take the shape (dimensions) of the elevations
#  and add another dimension to hold the 3 color channels:
mapShape = elevations.shape + (3,)

#Create a blank image that's all zeros:
floodMap = np.zeros(mapShape)

for row in range(mapShape[0]):
    for col in range(mapShape[1]):
	if elevations[row,col] &lt;= 0: 
	    #Below sea level
	   floodMap[row,col,2] = 1.0     #Set the blue channel to 100%
	elif elevations[row,col] &lt;= 6:
	    #Below the storm surge of Hurricane Sandy (flooding likely)
	   floodMap[row,col,0] = 1.0     #Set the red channel to 100%
	else:
	    #Above the 6 foot storm surge and didn't flood
	    floodMap[row,col,1] = 1.0   #Set the green channel to 100%

#Load the flood map image into matplotlib.pyplot:
plt.imshow(floodMap)

#Display the plot:
plt.show()

#Save the image:
plt.imsave('floodMap.png', floodMap)
</code></pre>
        </div>
      </div>

      <p>
        What would you change to make a more fine-grained map? Namely, modify
        your program to color the region just above the Sandy storm surge (6
        feet) and less than or equal to 20 feet the color grey (50% red, 50%
        green, 50% blue). Also, modify your program to not show any graphics
        windows (plt.show()) but instead just compute and save the map to
        floodMap.png. See
        <a href="assignments.html">Programming Problem List</a>.
      </p>

      <p><img src="images/floodMap2.png" alt="" /></p>

      <h3 id="more-on-the-command-line-interface-relative-paths">
        More on the Command Line Interface: Relative Paths
      </h3>

      <p>
        <a href="lab_03.html">Last lab</a>, we introduced the Unix shell
        commands:
      </p>

      <ul>
        <li>
          <code class="language-plaintext highlighter-rouge">cd</code>: change
          directories (or folders),
        </li>
        <li>mkdir: make a directory,</li>
        <li>
          <code class="language-plaintext highlighter-rouge">ls</code>: list the
          contents of a directory, and
        </li>
        <li>
          <code class="language-plaintext highlighter-rouge">pwd</code>: show
          the path (location) of the current working directory.
        </li>
      </ul>

      <p>
        We’ll expand a bit on the change directory (<code
          class="language-plaintext highlighter-rouge"
          >cd</code
        >) command. At a terminal window(Mac) or git bash(windows), we had typed:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>`mkdir thomasH`
`cd thomasH`
`pwd`
</code></pre>
        </div>
      </div>

      <p>
        which created a new directory, changed the current directory to it, and
        shows us what directory we were in.
      </p>

      <p>
        In addition to changing to a directory, we can also change back to its
        “parent” directory by typing:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>cd ../
</code></pre>
        </div>
      </div>

      <p>
        which says go to the parent of my current location. It’s often called a
        <em>relative path</em> since your destination is relative to your
        current location. Typing
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>pwd
</code></pre>
        </div>
      </div>

      <p>
        will show the current working directory. Using cd ../ and pwd, answer
        the following:
      </p>

      <ul>
        <li>What is the parent of your current directory?</li>
        <li>
          Change to the parent directory. What is the parent of your current
          directory?
        </li>
        <li>How many times can your repeat this?</li>
        <li>
          Which directory has no parent (i.e. “ancestor” to all the other
          directories?)?
        </li>
      </ul>

      <p>
        This simple cd ../ gives a powerful way to navigate the directories
        (especially when we are working on a server without a graphical user
        interface or automating a process). Next lab, we will introduce
        <em>absolute paths</em> that change directories to the same place each
        time (independent of your current working directory).
      </p>

      <h3 id="in-class-quiz">In-class Quiz</h3>

      <p>
        During lab, there is a <a href="quizzes.html">quiz</a>. The password to
        access the quiz will be given during lab. To complete the quiz, log on
        to Blackboard (see <a href="lab_01.html">Lab 1</a> for details on using
        Blackboard).
      </p>

      <h3 id="whats-next">What’s Next?</h3>

      <p>
        If you finish the lab early, now is a great time to get a head start on
        the programming problems due early next week. There’s instructors to
        help you, and you already have Python up and running. The
        <a href="assignments.html">Programming Problem List</a> has problem
        descriptions, suggested reading, and due dates next to each problem.
      </p>
    </div>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js"
      integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg="
      crossorigin="anonymous"
    ></script>
    <script>
      anchors.add();
    </script>
  </body>
</html>
