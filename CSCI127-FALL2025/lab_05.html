<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Begin Jekyll SEO tag v2.4.0 -->
    <title>LAB 5</title>
    <meta name="generator" content="Jekyll v3.7.3" />
    <meta property="og:title" content="Mahdi Makki, Hunter College" />
    <meta property="og:locale" content="en_US" />
    <link rel="canonical" href="https://mmakki11.github.io/" />
    <meta property="og:url" content="https://mmakki11.github.io/" />
    <meta property="og:site_name" content="mmakki11.github.io" />
    <script type="application/ld+json">
      {
        "name": "mmakki11.github.io",
        "@type": "WebSite",
        "url": "https://mmakki11.github.io/",
        "headline": "Mahdi Makki, Hunter College",
        "@context": "http://schema.org"
      }
    </script>
    <!-- End Jekyll SEO tag -->

    <link
      href="https://fonts.googleapis.com/css?family=Poppins:400"
      rel="stylesheet"
    />

    <!-- MathJax -->
    <script
      type="text/javascript"
      async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"
    ></script>

    <!--   <link crossorigin="anonymous" media="all" integrity="sha512-Z0JAar9+DkI1NjGVdZr3GivARUgJtA0o2eHlTv7Ou2gshR5awWVf8QGsq11Ns9ZxQLEs+G5/SuARmvpOLMzulw==" rel="stylesheet" href="https://assets-cdn.github.com/assets/frameworks-95aff0b550d3fe338b645a4deebdcb1b.css" />
    -->
    <!--   <link crossorigin="anonymous" media="all" integrity="sha512-yv+kWn8ewbavFKfvLZifQplJ0chJ6H894rDwGVvn0LtaG80VxAQmPt8pRMMOSlGNSiPwZEDSVzZjyOOiVe0eyA==" rel="stylesheet" href="https://assets-cdn.github.com/assets/github-37504d684728c80db863d719b4ac6781.css" />
    -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      <style>
        table {
          border-collapse: collapse;
        }
        table,
        td,
        th {
          text-align: left;
          padding: 8px;
          padding-bottom: 6px;
          border: 1px solid #dee1e4;
        }
        tr:nth-child(even) {
          background-color: #fafafa;
        }
        tr:nth-child(odd) {
          background-color: #ffffff;
        }
        hr.style-six {
          border: 0;
          height: 0;
          border-top: 1px solid rgba(0, 0, 0, 0.1);
          border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }
        a:link {
          text-decoration: none;
        }
        a:visited {
          text-decoration: none;
          color: blue;
        }
        a:hover {
          text-decoration: none;
        }
        a:active {
          text-decoration: none;
        }
      </style>

      <h2 id="lab-5">LAB 5</h2>

      <p>Today’s lab will focus on logical expressions and circuits.</p>

      <p>
        Software tools needed: web browser and Python IDLE programming
        environment with numpy and matplotlib packages installed.
      </p>

      <h3 id="in-class-quiz">In-class Quiz</h3>

      <p>
        During lab, there is a <a href="quizzes.html">quiz</a>. The password to
        access the quiz will be given during lab. To complete the quiz, log on
        to Blackboard (see <a href="lab_01.html">Lab 1</a> for details on using
        Blackboard).
      </p>

      <h3 id="using-python-gradescope-and-blackboard">
        Using Python, Gradescope, and Blackboard
      </h3>

      <p>
        See <a href="lab_01.html">Lab 1</a> for details on using Python,
        Gradescope, and Blackboard.
      </p>

      <h3 id="logical-expressions">Logical Expressions</h3>

      <p>
        Last week, we introduced decisions (if-statements). These relied on the
        “test” which was an expression that evaluated to true or false.
      </p>

      <p>
        We can build up more complicated logical expressions using built-in
        operators, and, or, and not. A standard way to summaries these operators
        is with <strong>truth tables</strong>. A truth table lists all the
        possible inputs and gives the output for each combination.
      </p>

      <p>
        For example, here is the truth table for the
        <strong>AND</strong> operator:
      </p>

      <table>
        <thead>
          <tr>
            <th style="text-align: center">in1</th>
            <th style="text-align: center">in2</th>
            <th style="text-align: center">in1 AND in2</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center">True</td>
            <td style="text-align: center">True</td>
            <td style="text-align: center">True</td>
          </tr>
          <tr>
            <td style="text-align: center">False</td>
            <td style="text-align: center">True</td>
            <td style="text-align: center">False</td>
          </tr>
          <tr>
            <td style="text-align: center">True</td>
            <td style="text-align: center">False</td>
            <td style="text-align: center">False</td>
          </tr>
          <tr>
            <td style="text-align: center">False</td>
            <td style="text-align: center">False</td>
            <td style="text-align: center">False</td>
          </tr>
        </tbody>
      </table>

      <p>
        It lists all the possible combinations of values for the inputs, in1 and
        in2 and what and would give as output. For example, if in1 is True and
        in2 is False, the value of in1 and in2 can be read off the last column
        of the third line of the truth table as False.
      </p>

      <p>Similarly here is the truth table for <strong>OR</strong>:</p>

      <table>
        <thead>
          <tr>
            <th style="text-align: center">in1</th>
            <th style="text-align: center">in2</th>
            <th style="text-align: center">in1 OR in2</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center">True</td>
            <td style="text-align: center">True</td>
            <td style="text-align: center">True</td>
          </tr>
          <tr>
            <td style="text-align: center">False</td>
            <td style="text-align: center">True</td>
            <td style="text-align: center">True</td>
          </tr>
          <tr>
            <td style="text-align: center">True</td>
            <td style="text-align: center">False</td>
            <td style="text-align: center">True</td>
          </tr>
          <tr>
            <td style="text-align: center">False</td>
            <td style="text-align: center">False</td>
            <td style="text-align: center">False</td>
          </tr>
        </tbody>
      </table>

      <p>
        For example, if in1 is True and in2 is False, the value of in1 or in2
        can be read off the last column of the third line of the truth table as
        True.
      </p>

      <p>
        The not operator changes the input from false to true, or true to false.
        That is, not True is false and not False is true. We can write this in
        the table format above:
      </p>

      <table>
        <thead>
          <tr>
            <th style="text-align: center">in1</th>
            <th style="text-align: center">NOT in1</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center">True</td>
            <td style="text-align: center">False</td>
          </tr>
          <tr>
            <td style="text-align: center">False</td>
            <td style="text-align: center">True</td>
          </tr>
        </tbody>
      </table>

      <p>
        These logical operators are useful building complex tests for our
        if-statements (as well as other control structures that will be
        introduced later).
      </p>

      <h4 id="snow-pack-in-california">Snow Pack in California</h4>

      <p>
        As an example of logical expressions, we will use them to estimate the
        snow pack level in California over the last drought using satellite
        imagery.
      </p>

      <p>
        Landsat Satellite Program is a joint program of USGS and NASA that has
        provided continuous images of the earth since 1972. The data is publicly
        available through the USGS-EROS site and has been invaluable in mapping
        changes in the earth. Today, we will use data images from the USGS
        remote sensing gallery:
      </p>

      <blockquote>
        <p>
          <a href="http://remotesensing.usgs.gov/gallery/"
            >http://remotesensing.usgs.gov/gallery/</a
          >
        </p>
      </blockquote>

      <p>
        The
        <a href="https://earthobservatory.nasa.gov/IOTD/view.php?id=89738"
          >snow pack in the Sierra Nevada mountains</a
        >
        provide almost a third of the water used by California. As a first
        estimate of snow pack, the number of pixels that are (nearly) white are
        counted. How much change has their been in the Sierra Nevada snowpack
        during the past drought in California? Here are images from before and
        during the worst years of the drought:
      </p>

      <table>
        <tbody>
          <tr>
            <td>
              <img src="images/CaliforniaDrought_02232011_md.png" alt="" />
            </td>
            <td>
              <img src="images/CaliforniaDrought_02122013_md.png" alt="" />
            </td>
            <td>
              <img src="images/CaliforniaDrought_02232014_md.png" alt="" />
            </td>
          </tr>
          <tr>
            <td>
              <a href="images/CaliforniaDrought_02232011_md.png"
                >February 2011</a
              >
            </td>
            <td>
              <a href="images/CaliforniaDrought_02122013_md.png"
                >February 2013</a
              >
            </td>
            <td>
              <a href="images/CaliforniaDrought_02232014_md.png"
                >February 2014</a
              >
            </td>
          </tr>
        </tbody>
      </table>

      <p>
        How much snow is there? We will use the number of pixels that are nearly
        white as an estimate of the snow. We can add in a new variable,
        countSnow to keep track of each time a pixel is nearly white. Here’s an
        outline of our program:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre
            class="highlight"
          ><code>1.  Import the libraries to manipulate and display arrays.
2.  Read in the California image and store in the variable, ca
3.  Create a new variable, countSnow, to keep track of the number of pixels that are nearly white.
4.  For each element in elevations,
5.          If the pixel is nearly white
6.                  countSnow = countSnow + 1
7.  Print out countSnow.
</code></pre>
        </div>
      </div>

      <p>
        When is a pixel white? It’s when the red, green, and blue values are
        close to 100%. In code, we would have:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre
            class="highlight"
          ><code>t = 0.75    #Threshold for almost white-- can adjust between 0.0 and 1.0 

...
for i in range(ca.shape[0]):
    for j in range(ca.shape[1]):
      if (ca[i,j,0] &gt; t) and (ca[i,j,1] &gt; t) and (ca[i,j,2] &gt; t):
          countSnow = countSnow + 1
</code></pre>
        </div>
      </div>

      <p>
        Let’s translate that into Python. Open up a new IDLE window and copy
        over the outline. Using the image programs from
        <a href="lab_04.html">last lab</a> as a template, fill in as much as
        possible before looking at the program below:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>#Name:  CSci 127 Teaching Staff
#Date:  Fall 2021
#This program loads an image, counts the number of pixels that are nearly white as an estimate for snow pack.

#Import the packages for images and arrays:
import matplotlib.pyplot as plt  
import numpy as np

ca = plt.imread('CaliforniaDrought_02232011_md.png')   #Read in image
countSnow = 0            #Number of pixels that are almost white
t = 0.75                 #Threshold for almost white-- can adjust between 0.0 and 1.0

#For every pixel:
for i in range(ca.shape[0]):
     for j in range(ca.shape[1]):
	  #Check if red, green, and blue are &gt; t:
        if (ca[i,j,0] &gt; t) and (ca[i,j,1] &gt; t) and (ca[i,j,2] &gt; t):
            countSnow = countSnow + 1

print("Snow count is", countSnow)
</code></pre>
        </div>
      </div>

      <p>
        This program assumes that you have downloaded and saved
        <a href="images/CaliforniaDrought_02232011_md.png"
          >CaliforniaDrought_02232011_md.png</a
        >
        to the same directory as your program.
      </p>

      <p>
        How can you modify your program to let the user specify the input file?
        See <a href="assignments.html">Programming Problem List</a>.
      </p>

      <h3 id="logical-circuits">Logical Circuits</h3>

      <p>
        The logical expressions above are useful not only in designing decisions
        and selecting data in Python, but the same concept underlies much of the
        hardware of computers. The and, or, and not can all be simulated in
        hardware via
        <a href="https://en.wikipedia.org/wiki/Logic_gate">logic gates</a>.
        These gates take inputs (usually 0 or 1) and output a value, based on
        the logical operator it is simulating.
      </p>

      <p>Here is a simulator for circuits. Let’s see an and gate in action:</p>

      <p>
        <a href="https://logic.ly/demo"
          ><img src="images/andGate.png" alt="" /><br />
          (click to launch new window with circuit builder)</a
        >
      </p>

      <ul>
        <li>
          Build and try (clicking on) the switches on the left of the canvas you draw.
          What happens?
        </li>
        <li>When does the light turn on?</li>
        <li>When does the light turn off?</li>
      </ul>

      <p>Try making a circuit with an or gate:</p>

      <ul>
        <li>
          From the left hand menu, pull over two switches (the little boxes with
          a toggle switch on them) to the canvas..
        </li>
        <li>
          Scroll down to the next menu, and choose “OR” from the Logic ports and
          drag it over to canvas.
        </li>
        <li>
          Each switch has an output (little circle). 
          Click on the output of the first switch and link to the inward
          pointing circle of the OR gate.
        </li>
        <li>
          Repeat with the other switch to connect it to the other input of the
          AND gate.
        </li>
        <li>
          Scroll down to the bottom of the left hand menu, and choose the output
          'Light Bulb'.
        </li>
        <li>
          Connect the output of the OR to the input of the 'Light Bulb'.
        </li>
        <li>
          <p>
            Toggle (click) on the switches. What happens to the red output
            light?
          </p>

          <p>What is different between the behavior of the or and and gates?</p>
        </li>
      </ul>

      <h4 id="majority-of-3-inputs">Majority of 3 Inputs</h4>

      <p>
        Now, let’s build a circuit, or collection of gates, that takes majority
        of 3 inputs, called
        <code class="language-plaintext highlighter-rouge">in1</code>,
        <code class="language-plaintext highlighter-rouge">in2</code>,
        <code class="language-plaintext highlighter-rouge">in3</code>:
      </p>

      <ul>
        <li>
          If two or more of the inputs are True, then your expression should
          evaluate to
          <code class="language-plaintext highlighter-rouge">True</code>.
        </li>
        <li>
          Otherwise (two or more of the inputs are False), then your expression
          should evaluate to
          <code class="language-plaintext highlighter-rouge">False</code>.
        </li>
      </ul>

      <p>
        <a href="https://logic.ly/demo">Here’s a window</a>
        for building your circuit
      </p>

      <p>Build your circuit as you read the instructions below:</p>

      <ol>
        <li>
          The question asks for 3 inputs – let’s use Toggle Switch control
        </li>
        <li>
          <p>
            We are going to need to check if any pair of inputs is
            <code class="language-plaintext highlighter-rouge">True</code>. An
            easy way to do this is to check that:
          </p>

          <ul>
            <li>
              <code class="language-plaintext highlighter-rouge">in1</code> and
              <code class="language-plaintext highlighter-rouge">in2</code> are
              both
              <code class="language-plaintext highlighter-rouge">True</code>, or
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge">in1</code> and
              <code class="language-plaintext highlighter-rouge">in3</code> are
              both
              <code class="language-plaintext highlighter-rouge">True</code>, or
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge">in3</code> and
              <code class="language-plaintext highlighter-rouge">in3</code> are
              both
              <code class="language-plaintext highlighter-rouge">True</code>
            </li>
          </ul>

          <p>
            An easy way to do this is to “split the signal” of each input, so,
            we can use it in multiple places. Simply reuse the same switch output 
            and hook one up to each of the
            inputs.
            
          </p>
        </li>
        <li>
          <p>We’ll build up our circuits in stages:</p>

          <ul>
            <li>
              To check that in1 and in2 are both true, hook both of them up to
              an and gate.
            </li>
            <li>
              To check that in1 and in3 are both true, hook both of them up to
              an and gate.
            </li>
            <li>
              To check that in2 and in3 are both true, hook both of them up to
              an and gate.
            </li>
          </ul>

          <p>
            <img src="maj2.png" alt="" /> <img src="images/maj3.png" alt="" />
            <img src="maj4.png" alt="" /><br />
            You can check the wiring by toggling any two switches– when you
            toggle the first and the second, the wires going to the first and
            gate should be highlighted in blue. Check the first and the third,
            and second and third as well, to make sure all is connected right.
          </p>
        </li>
        <li>
          We have each of the three things done in our to-do list above. The
          list is connected by “or”, so, we need to do the same with our
          outputs:<br />
          <img src="maj5.png" alt="" /> <img src="images/maj6.png" alt="" />.
        </li>
        <li>
          And lastly, let’s add an output light bulb that will glow when true:<br />
          <img src="images/maj7.png" alt="" />
        </li>
      </ol>

      <p>Test the circuit you just built:</p>

      <ul>
        <li>if two or more switches are on, is the output light on?</li>
        <li>if two or more switches are off, is the output light off?</li>
      </ul>

      <p>
        Adjust your circuit until it only lights up when two switches are on.
      </p>

      <h4 id="translating-logical-circuits-to-logical-expressions">
        Translating Logical Circuits to Logical Expressions
      </h4>

      <p>
        How do we represent this as a logical expression? Let’s work backwards
        from the output light:<br />
        <img src="images/maj7.png" alt="" />
      </p>

      <p>Our last gate is an or, so we will write down an or</p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>(lotsOfStuff1) or (lotsOfStuff2)
</code></pre>
        </div>
      </div>

      <p>
        We’ll use parenthesis to keep things neat. Now, let’s look at the left
        hand side (lotsOfStuff1). It also has an or, so we can write it down:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre
            class="highlight"
          ><code>((lotsOfStuff3) or (lotsOfStuff4)) or (lotsOfStuff2)
</code></pre>
        </div>
      </div>

      <p>
        Let’s keep refining our expressions (lotsOfStuff3) has an and at the
        top, so, we will replace it with:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre
            class="highlight"
          ><code>(((lotsOfStuff5) and (lotsOfStuff6)) or (lotsOfStuff4)) or (lotsOfStuff2)
</code></pre>
        </div>
      </div>

      <p>
        (lotsOfStuff5) is just a wire back to the first input, so, we can write
        that instead:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre
            class="highlight"
          ><code>((in1 and (lotsOfStuff6)) or (lotsOfStuff4)) or (lotsOfStuff2)
</code></pre>
        </div>
      </div>

      <p>
        and similarly, (lotsOfStuff6) is just a wire back to the second input,
        so, we can write that instead:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre
            class="highlight"
          ><code>((in1 and in2) or (lotsOfStuff4)) or (lotsOfStuff2)
</code></pre>
        </div>
      </div>

      <p>
        That looks better! If look at lotsOfStuff4, we see an and gate with
        wires back to the first and third inputs:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre
            class="highlight"
          ><code>((in1 and in2) or (in1 and in3)) or (lotsOfStuff2)
</code></pre>
        </div>
      </div>

      <p>Similarly, we can replace lotsOfStuff2 with:</p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre
            class="highlight"
          ><code>((in1 and in2) or (in1 and in3)) or (in2 and in3)
</code></pre>
        </div>
      </div>

      <p>
        Save this line to a text file (you can use any text editor, just make
        sure to save it as plain text, with no formatting):
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>#Name: Your name here
#Date: 27 February 2021
#Program #23:  Computes the majority of 3 inputs

out = ((in1 and in2) or (in1 and in3)) or (in2 and in3)
</code></pre>
        </div>
      </div>

      <p>
        (your expression, preceded by out = ). For the logical expressions
        homework, you submit just a text file with the logical expressions. The
        grading script evaluates the expression, testing it with different
        inputs. See the <a href="assignments.html">Programming Problem List</a>.
      </p>

      <h4 id="more-exotic-gates">More Exotic Gates</h4>

      <p>
        In addition the and, or, and not gates, there are several other standard
        gates. For each, we can build a circuit using just and, or, and not
        gates that gives the same output.
      </p>

      <p>What does a nor gate do?</p>

      <div class="language-plaintext highlighter-rouge">

      </div>

      <p>
        <a href="https://logic.ly/demo"
          >Toggle the inputs</a
        >
        to figure out what the gate does.
      </p>

      <p>
        Now, build a circuit that has the same behavior as a nor gate (i.e. for
        the same inputs, both give identical output) using only
        <code class="language-plaintext highlighter-rouge">and</code>,
        <code class="language-plaintext highlighter-rouge">or</code>, and
        <code class="language-plaintext highlighter-rouge">not</code> gates.
      </p>

      <p>
        When you have the answer, label your inputs in1 and in2, save the answer
        in a file:
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>#Name: Your name here
#Date: 27 February 2021
#Program #23:  Computes NOR of two inputs, using only AND, OR, and NOT gates

out = ...
</code></pre>
        </div>
      </div>

      <p>
        (where … is replaced by your answer). See the
        <a href="assignments.html">Programming Problem List</a>.
      </p>

      <h3 id="more-on-the-command-line-interface-absolute-paths">
        More on the Command Line Interface: Absolute Paths
      </h3>

      <p>
        <a href="lab_04.html">Last lab</a>, we introduced relative paths for
        navigating the directories via the shell. Relative paths (e.g.
        <code class="language-plaintext highlighter-rouge">cd ../</code>) used
        the current location when executing. We can also use
        <em>absolute paths</em> that are independent of your location. For
        example,
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>cd /usr/bin
pwd
ls
</code></pre>
        </div>
      </div>

      <p>
        will change your working directory to one of the machine’s standard bin
        directories which is filled with programs, or binaries. The next two
        commands show the path to the working directory and list its contents.
        These binaries are in a central location to make them easier to find and
        use.
      </p>

      <p>
        Since it is nice to be able to return to your default, or home
        directory, there is a built-in short-cut for home
        <code class="language-plaintext highlighter-rouge">~</code>. Try
      </p>

      <div class="language-plaintext highlighter-rouge">
        <div class="highlight">
          <pre class="highlight"><code>cd ~
pwd
ls
</code></pre>
        </div>
      </div>

      <p>
        The first command will return you to your home directory, no matter
        where you started.
      </p>

      <p>
        Next lab, we will introduce scripts, or files of shell commands, that we
        can execute at the command line.
      </p>

      <h3 id="whats-next">What’s Next?</h3>

      <p>
        If you finish the lab early, now is a great time to get a head start on
        the programming problems due early next week. There’s instructors to
        help you, and you already have Python up and running. The
        <a href="assignments.html">Programming Problem List</a> has problem
        descriptions, suggested reading, and due dates next to each problem.
      </p>
    </div>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js"
      integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg="
      crossorigin="anonymous"
    ></script>
    <script>
      anchors.add();
    </script>
  </body>
</html>
